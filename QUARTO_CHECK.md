# Quarto —Ñ–∞–π–ª—ã–Ω —à–∞–ª–≥–∞–ª—Ç - –ê–ª–¥–∞–∞, –∑”©—Ä—Å”©–Ω —Ç–æ–æ, –±–∞—Ä–∏–º—Ç

## ‚úÖ –ó”©–≤ —Ç–æ–æ–Ω—É—É–¥ (–•–∞—Ä—å—Ü—É—É–ª—Å–∞–Ω)

### 1. ”®–≥”©–≥–¥–ª–∏–π–Ω “Ø–Ω–¥—Å—ç–Ω –º—ç–¥—ç—ç–ª—ç–ª
- ‚úÖ –ù–∏–π—Ç –∑—ç—ç–ª–¥—ç–≥—á–¥–∏–π–Ω —Ç–æ–æ: 1000.0
- ‚úÖ –≠—Ä—Å–¥—ç–ª—Ç—ç–π –∑—ç—ç–ª–∏–π–Ω —Ö—É–≤—å: 30.0%
- ‚úÖ –≠—Ä—Å–¥—ç–ª–≥“Ø–π –∑—ç—ç–ª–∏–π–Ω —Ö—É–≤—å: 70.0%
- ‚úÖ –î—É–Ω–¥–∞–∂ –∑—ç—ç–ª–∏–π–Ω —Ö—ç–º–∂—ç—ç: 3271.0
- ‚úÖ –î—É–Ω–¥–∞–∂ —Ö—É–≥–∞—Ü–∞–∞: 20.9 —Å–∞—Ä
- ‚úÖ –î—É–Ω–¥–∞–∂ –Ω–∞—Å: 35.5 –∂–∏–ª

### 2. –õ–æ–∂–∏—Å—Ç–∏–∫ —Ä–µ–≥—Ä–µ—Å—Å
- ‚úÖ –ù–∞—Ä–∏–π–≤—á–ª–∞–ª: 74.33%
- ‚úÖ AUC-ROC: 0.7987
- ‚úÖ McFadden R¬≤: 0.2336
- ‚úÖ Optimal threshold: 0.267
- ‚úÖ Precision: 0.5496
- ‚úÖ Recall: 0.8
- ‚úÖ F1-score: 0.6516

### 3. –ì—ç–Ω—ç–Ω –ë–∞–π–µ—Å
- ‚úÖ –ù–∞—Ä–∏–π–≤—á–ª–∞–ª: 67%
- ‚úÖ AUC-ROC: 0.7784
- ‚úÖ Optimal threshold: 0.1359
- ‚úÖ Precision: 0.4737
- ‚úÖ Recall: 0.9
- ‚úÖ F1-score: 0.6207

### 4. –®–∏–π–¥–≤—ç—Ä–∏–π–Ω –º–æ–¥
- ‚úÖ –ù–∞—Ä–∏–π–≤—á–ª–∞–ª: 67%
- ‚úÖ AUC-ROC: 0.7321
- ‚úÖ Optimal threshold: 0.1576
- ‚úÖ Precision: 0.471
- ‚úÖ Recall: 0.8111
- ‚úÖ F1-score: 0.5959

### 5. –ö–æ—Ä—Ä–µ–ª—è—Ü–∏–π–Ω —à–∏–Ω–∂–∏–ª–≥—ç—ç
- ‚úÖ –ó—ç—ç–ª–∏–π–Ω —Ö—ç–º–∂—ç—ç: rho = 0.087, p = 0.0059
- ‚úÖ –ó—ç—ç–ª–∏–π–Ω —Ö—É–≥–∞—Ü–∞–∞: rho = 0.206, p = 0.0000
- ‚úÖ –ù–∞—Å: rho = -0.112, p = 0.0004

## ‚ö†Ô∏è –®–∞–ª–≥–∞—Ö —à–∞–∞—Ä–¥–ª–∞–≥–∞—Ç–∞–π –∑“Ø–π–ª—Å

### 1. R –±–∞–≥—Ü—É—É–¥—ã–Ω –∂–∞–≥—Å–∞–∞–ª—Ç
**Quarto —Ñ–∞–π–ª–¥:**
```r
required_packages <- c("caret", "pROC", "e1071", "PRROC", "Cairo", "knitr", "rpart", "rpart.plot")
```

**–®–∞–ª–≥–∞–ª—Ç:**
- ‚úÖ `caret` - createDataPartition() –∞—à–∏–≥–ª–∞–∂ –±–∞–π–Ω–∞
- ‚úÖ `pROC` - roc(), auc(), coords() –∞—à–∏–≥–ª–∞–∂ –±–∞–π–Ω–∞
- ‚úÖ `e1071` - naiveBayes() –∞—à–∏–≥–ª–∞–∂ –±–∞–π–Ω–∞
- ‚úÖ `PRROC` - pr.curve() –∞—à–∏–≥–ª–∞–∂ –±–∞–π–Ω–∞
- ‚úÖ `Cairo` - PDF –≥—Ä–∞—Ñ–∏–∫ “Ø“Ø—Å–≥—ç—Ö—ç–¥ –∞—à–∏–≥–ª–∞–∂ –±–∞–π–Ω–∞
- ‚úÖ `knitr` - kable() –∞—à–∏–≥–ª–∞–∂ –±–∞–π–Ω–∞
- ‚úÖ `rpart` - rpart() –∞—à–∏–≥–ª–∞–∂ –±–∞–π–Ω–∞
- ‚ö†Ô∏è `rpart.plot` - –∫–æ–¥–æ–Ω–¥ –∞—à–∏–≥–ª–∞–∞–≥“Ø–π –±–∞–π–Ω–∞ (–∑”©–≤—Ö”©–Ω rpart –∞—à–∏–≥–ª–∞–∂ –±–∞–π–Ω–∞)

**–ó”©–≤–ª”©–º–∂:** `rpart.plot` –±–∞–≥—Ü—ã–≥ —Ö—ç—Ä—ç–≤ –∞—à–∏–≥–ª–∞—Ö–≥“Ø–π –±–æ–ª –∂–∞–≥—Å–∞–∞–ª—Ç–∞–∞—Å —Ö–∞—Å–∞—Ö —ç—Å–≤—ç–ª –º–æ–¥–Ω—ã –≥—Ä–∞—Ñ–∏–∫ “Ø“Ø—Å–≥—ç—Ö—ç–¥ –∞—à–∏–≥–ª–∞—Ö.

### 2. Train/Test —Ö—É–≤–∞–∞–ª—Ç
**Quarto —Ñ–∞–π–ª–¥:**
- Training set: 70% (700)
- Test set: 30% (300)

**–®–∞–ª–≥–∞–ª—Ç:**
- ‚úÖ 1000 √ó 0.7 = 700 ‚úì
- ‚úÖ 1000 √ó 0.3 = 300 ‚úì
- ‚úÖ Class –±–∞–ª–∞–Ω—Å —Ö–∞–¥–≥–∞–ª–∞–≥–¥–∞–∂ –±–∞–π–Ω–∞ (30% —ç—Ä—Å–¥—ç–ª—Ç—ç–π)

### 3. Confusion Matrix —Ç–æ–æ–Ω—É—É–¥

**–õ–æ–∂–∏—Å—Ç–∏–∫ —Ä–µ–≥—Ä–µ—Å—Å:**
```
–ë–æ–¥–∏—Ç\–¢–∞–∞–º–∞–≥–ª–∞–ª  –≠—Ä—Å–¥—ç–ª–≥“Ø–π  –≠—Ä—Å–¥—ç–ª—Ç—ç–π
–≠—Ä—Å–¥—ç–ª–≥“Ø–π        151         59
–≠—Ä—Å–¥—ç–ª—Ç—ç–π         18          72
```
**–®–∞–ª–≥–∞–ª—Ç:**
- Total: 151 + 59 + 18 + 72 = 300 ‚úì
- –≠—Ä—Å–¥—ç–ª–≥“Ø–π (–±–æ–¥–∏—Ç): 151 + 59 = 210 (70% of 300) ‚úì
- –≠—Ä—Å–¥—ç–ª—Ç—ç–π (–±–æ–¥–∏—Ç): 18 + 72 = 90 (30% of 300) ‚úì
- Accuracy: (151 + 72) / 300 = 223 / 300 = 0.7433 = 74.33% ‚úì
- Precision: 72 / (72 + 59) = 72 / 131 = 0.5496 ‚úì
- Recall: 72 / (72 + 18) = 72 / 90 = 0.8 ‚úì

**–ì—ç–Ω—ç–Ω –ë–∞–π–µ—Å:**
```
–ë–æ–¥–∏—Ç\–¢–∞–∞–º–∞–≥–ª–∞–ª  –≠—Ä—Å–¥—ç–ª–≥“Ø–π  –≠—Ä—Å–¥—ç–ª—Ç—ç–π
–≠—Ä—Å–¥—ç–ª–≥“Ø–π        120         90
–≠—Ä—Å–¥—ç–ª—Ç—ç–π         9           81
```
**–®–∞–ª–≥–∞–ª—Ç:**
- Total: 120 + 90 + 9 + 81 = 300 ‚úì
- Accuracy: (120 + 81) / 300 = 201 / 300 = 0.67 = 67% ‚úì
- Precision: 81 / (81 + 90) = 81 / 171 = 0.4737 ‚úì
- Recall: 81 / (81 + 9) = 81 / 90 = 0.9 ‚úì

**–®–∏–π–¥–≤—ç—Ä–∏–π–Ω –º–æ–¥:**
```
–ë–æ–¥–∏—Ç\–¢–∞–∞–º–∞–≥–ª–∞–ª  –≠—Ä—Å–¥—ç–ª–≥“Ø–π  –≠—Ä—Å–¥—ç–ª—Ç—ç–π
–≠—Ä—Å–¥—ç–ª–≥“Ø–π        128         82
–≠—Ä—Å–¥—ç–ª—Ç—ç–π         17          73
```
**–®–∞–ª–≥–∞–ª—Ç:**
- Total: 128 + 82 + 17 + 73 = 300 ‚úì
- Accuracy: (128 + 73) / 300 = 201 / 300 = 0.67 = 67% ‚úì
- Precision: 73 / (73 + 82) = 73 / 155 = 0.4710 ‚úì
- Recall: 73 / (73 + 17) = 73 / 90 = 0.8111 ‚úì

### 4. –•—ç–≤–∏–π–Ω —Ç–∞—Ä—Ö–∞–ª—Ç—ã–Ω —à–∞–ª–≥–∞–ª—Ç
**Quarto —Ñ–∞–π–ª–¥:**
- –ó—ç—ç–ª–∏–π–Ω —Ö—ç–º–∂—ç—ç: W = 0.7815, p-value = 2.584946e-25
- –ó—ç—ç–ª–∏–π–Ω —Ö—É–≥–∞—Ü–∞–∞: W = 0.8893, p-value = 1.710556e-18
- –ù–∞—Å: W = 0.9166, p-value = 5.454718e-16

**–®–∞–ª–≥–∞–ª—Ç:**
- ‚úÖ –ë“Ø—Ö p-value < 0.05 ‚Üí –•—ç–≤–∏–π–Ω —Ç–∞—Ä—Ö–∞–ª—Ç—Ç–∞–π –±–∏—à (H0 —Ç–∞—Ç–≥–∞–ª–∑—Å–∞–Ω)
- ‚úÖ –¢“Ø“Ø–≤—Ä–∏–π–Ω —Ö—ç–º–∂—ç—ç: 500 (Shapiro-Wilk —Ç–µ—Å—Ç 5000-–∞–∞—Å –∏—Ö —Ç“Ø“Ø–≤—ç—Ä –¥—ç—ç—Ä –Ω–∞–π–¥–≤–∞—Ä–≥“Ø–π)

### 5. Z-test (–≠—Ä—Å–¥—ç–ª—Ç—ç–π –∑—ç—ç–ª–∏–π–Ω —Ö—É–≤—å 30%)
**Quarto —Ñ–∞–π–ª–¥:**
- –ê–∂–∏–≥–ª–∞–≥–¥—Å–∞–Ω —Ö—É–≤—å: 30%
- Z-—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫: 0
- p-value: 1

**–®–∞–ª–≥–∞–ª—Ç:**
- ‚úÖ –ê–∂–∏–≥–ª–∞–≥–¥—Å–∞–Ω —Ö—É–≤—å = –¢–∞–∞–º–∞–≥–ª–∞—Å–∞–Ω —Ö—É–≤—å (30%) ‚Üí Z = 0 ‚úì
- ‚úÖ p-value = 1 ‚Üí –¢–∞–∞–º–∞–≥–ª–∞–ª —Ö“Ø–ª—ç—ç–Ω –∑”©–≤—à”©”©—Ä”©–≥–¥—Å”©–Ω ‚úì

## üîç –û–ª–¥—Å–æ–Ω –∞–ª–¥–∞–∞–Ω—É—É–¥ / –ó”©—Ä—Å”©–Ω —Ç–æ–æ–Ω—É—É–¥

### 1. ‚ùå –ê–ª–¥–∞–∞: Precision-Recall Curve –∫–æ–¥
**Quarto —Ñ–∞–π–ª–¥:**
```r
pr_logistic <- pr.curve(scores.class0 = (1 - logistic_pred_test)[test_data$risk_binary == "–≠—Ä—Å–¥—ç–ª–≥“Ø–π"],
                        scores.class1 = logistic_pred_test[test_data$risk_binary == "–≠—Ä—Å–¥—ç–ª—Ç—ç–π"],
                        curve = TRUE)
```

**–ê–ª–¥–∞–∞:** `logistic_pred_test` –Ω—å –º–∞–≥–∞–¥–ª–∞–ª (0-1 —Ö–æ–æ—Ä–æ–Ω–¥), `(1 - logistic_pred_test)` –Ω—å –∑”©–≤ –±–æ–ª–æ–≤—á –∏–Ω–¥–µ–∫—Å–∏–π–Ω –∞—Å—É—É–¥–∞–ª –±–∞–π–∂ –º–∞–≥–∞–¥–≥“Ø–π.

**–ó”©–≤ –∫–æ–¥:**
```r
pr_logistic <- pr.curve(
  scores.class0 = (1 - logistic_pred_test)[test_data$risk_binary == "–≠—Ä—Å–¥—ç–ª–≥“Ø–π"],
  scores.class1 = logistic_pred_test[test_data$risk_binary == "–≠—Ä—Å–¥—ç–ª—Ç—ç–π"],
  curve = TRUE
)
```

### 2. ‚ö†Ô∏è –ê–Ω—Ö–∞–∞—Ä–∞—Ö –∑“Ø–π–ª: Precision-Recall Curve-–∏–π–Ω AUC
**PDF —Ç–∞–π–ª–∞–Ω–¥:**
- –õ–æ–∂–∏—Å—Ç–∏–∫ —Ä–µ–≥—Ä–µ—Å—Å: AUC = 0.924
- –ì—ç–Ω—ç–Ω –ë–∞–π–µ—Å: AUC = 0.792
- –®–∏–π–¥–≤—ç—Ä–∏–π–Ω –º–æ–¥: AUC = 0.821

**–®–∞–ª–≥–∞–ª—Ç:** –≠–¥–≥—ç—ç—Ä —Ç–æ–æ–Ω—É—É–¥ –Ω—å ROC AUC-–∞–∞—Å ”©”©—Ä (ROC AUC –Ω—å 0.7987, 0.7784, 0.7321). Precision-Recall AUC –Ω—å class imbalance-–∏–π–Ω —É–ª–º–∞–∞—Å ”©”©—Ä –±–∞–π—Ö –Ω—å —Ö—ç–≤–∏–π–Ω.

### 3. ‚ö†Ô∏è –®–∏–π–¥–≤—ç—Ä–∏–π–Ω –º–æ–¥–Ω—ã training accuracy
**Quarto —Ñ–∞–π–ª–¥:**
- Training set –Ω–∞—Ä–∏–π–≤—á–ª–∞–ª: 83.43%

**–®–∞–ª–≥–∞–ª—Ç:** Training accuracy (83.43%) > Test accuracy (67%) ‚Üí Overfitting –±–∞–π–∂ –º–∞–≥–∞–¥–≥“Ø–π. –ì—ç—Ö–¥—ç—ç —ç–Ω—ç –Ω—å —Ö—ç–≤–∏–π–Ω (–º–æ–¥ –Ω—å training data-–¥ —Å–∞–π–Ω —Ç–∞–∞–º–∞–≥–ª–∞—Ö).

## üìù –ó”©–≤–ª”©–º–∂

### 1. R –±–∞–≥—Ü—É—É–¥
- `rpart.plot` –±–∞–≥—Ü—ã–≥ —Ö—ç—Ä—ç–≤ –∞—à–∏–≥–ª–∞—Ö–≥“Ø–π –±–æ–ª –∂–∞–≥—Å–∞–∞–ª—Ç–∞–∞—Å —Ö–∞—Å–∞—Ö —ç—Å–≤—ç–ª –º–æ–¥–Ω—ã –≥—Ä–∞—Ñ–∏–∫ “Ø“Ø—Å–≥—ç—Ö—ç–¥ –∞—à–∏–≥–ª–∞—Ö.

### 2. –ö–æ–¥–æ–¥ –∑–∞—Å–≤–∞—Ä —Ö–∏–π—Ö
- Precision-Recall curve-–∏–π–Ω –∫–æ–¥ –∑”©–≤ —ç—Å—ç—Ö–∏–π–≥ —à–∞–ª–≥–∞—Ö
- –ë“Ø—Ö —Ö—É–≤—å—Å–∞–≥—á–¥—ã–Ω —Ç”©—Ä”©–ª (factor vs numeric) –∑”©–≤ —ç—Å—ç—Ö–∏–π–≥ —à–∞–ª–≥–∞—Ö

### 3. –î“Ø–≥–Ω—ç–ª—Ç —Ö—ç—Å—ç–≥
- –ó”©–≤–ª”©–º–∂ —Ö—ç—Å—ç–≥ –Ω—å PDF —Ç–∞–π–ª–∞–Ω–¥ –±–∞–π–≥–∞–∞ –±”©–≥”©”©–¥ Quarto —Ñ–∞–π–ª–¥ –±–∞–π—Ö–≥“Ø–π –±–∞–π–Ω–∞. –ù—ç–º—ç—Ö —Ö—ç—Ä—ç–≥—Ç—ç–π.

### 4. –ë–∞–≥–∏–π–Ω –≥–∏—à“Ø“Ø–¥–∏–π–Ω –º—ç–¥—ç—ç–ª—ç–ª
- PDF —Ç–∞–π–ª–∞–Ω–¥ `[–ì–∏—à“Ø“Ø–Ω X-–∏–π–Ω –Ω—ç—Ä]` –≥—ç—Å—ç–Ω placeholder –±–∞–π–Ω–∞. –ë–æ–¥–∏—Ç –º—ç–¥—ç—ç–ª—ç–ª –æ—Ä—É—É–ª–∞—Ö —Ö—ç—Ä—ç–≥—Ç—ç–π.

## ‚úÖ –ï—Ä”©–Ω—Ö–∏–π –¥“Ø–≥–Ω—ç–ª—Ç

**–¢–æ–æ–Ω—É—É–¥:** –ë“Ø—Ö —Ç–æ–æ–Ω—É—É–¥ –∑”©–≤, —Ö–∞—Ä—å—Ü—É—É–ª–∞–ª—Ç —Ö–∏–π—Å—ç–Ω –±”©–≥”©”©–¥ –∑”©—Ä—Å”©–Ω –∑“Ø–π–ª –æ–ª–¥—Å–æ–Ω–≥“Ø–π.

**–ö–æ–¥:** –ö–æ–¥ –Ω—å –∑”©–≤ –±–æ–ª–æ–≤—á –∑–∞—Ä–∏–º –±–∞–≥—Ü –∞—à–∏–≥–ª–∞–∞–≥“Ø–π –±–∞–π–Ω–∞ (`rpart.plot`).

**–ë–∞—Ä–∏–º—Ç:** –ë“Ø—Ö –±–∞—Ä–∏–º—Ç—É—É–¥ –∑”©–≤, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫ —Ç–µ—Å—Ç“Ø“Ø–¥ –∑”©–≤ —Ö–∏–π–≥–¥—Å—ç–Ω.

**–î“Ø–≥–Ω—ç–ª—Ç:** Quarto —Ñ–∞–π–ª –Ω—å —Å–∞–π–Ω –±—ç–ª—Ç–≥—ç–≥–¥—Å—ç–Ω, –∑”©–≤—Ö”©–Ω –¥—ç—ç—Ä –¥—É—Ä–¥—Å–∞–Ω –∂–∏–∂–∏–≥ –∑–∞—Å–≤–∞—Ä—É—É–¥ —Ö–∏–π—Ö —à–∞–∞—Ä–¥–ª–∞–≥–∞—Ç–∞–π.

